<!DOCTYPE html>
<html lang="en" data-theme="dark"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Guardian Sigils</title>
    <meta name="description" content="Guardian Sigils">
    <link rel="apple-touch-icon" sizes="180x180" href="./src/images/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="./src/images/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="./src/images/favicon-16x16.png">
    <link rel="manifest" href="./src/images/site.webmanifest">
    <link rel="stylesheet" href="src/css/pico.min.css">
    <script src="src/js/web3.min.js"></script>
    <script src="src/js/detect-provider.min.js"></script>
    <script src="src/js/web3handshake.js"></script>
    <script src="src/js/SIGILS_ABI.js"></script>
    <script src="src/js/PLEDGE_ABI.js"></script>
    <script src="src/js/contracts.js"></script>
    <!--
    Website by Matto
    Matto.xyz
    @MonkMatto
    (C) Matto 2025
    
    THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, 
    INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR 
    PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, 
    DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR 
    IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
    -->
  </head>

  <body>
    <!-- Header -->
    <header class="container">
      <hgroup>
        <h1>Guardian Sigils</h1>
        <h5>By Matto  -  <em>The rift to summon Guardian Sigils opens on 1/17/24!</em></h5>
        <hr>
        <br>
        <div class="grid">
          <div>
            <h6>LINKS: <a href="https://opensea.io/collection/guardian-sigils" target="_blank">NFT Collection</a> | <span id="sigils-contract-link"></span> | <a href="https://discord.gg/sCmu4Xt6Cx" target="_blank">Discord</a> | <a href="https://github.com/MonkMatto/Sigils" target="_blank">Github</a></h6>
          </div>
          <div>
            <div id="connect-button" style="display: block;">
              <button type="button" onclick="ConnectWallet()"><span class="message" color="black"></span></button>
            </div>
            <div id="network-name"></div>
            <!-- <p style="text-align: center;"><em><span class="message" color="black">Please connect to MetaMask.</span></em></p> -->
            <p style="text-align: center;"><em><span class="message" color="white"></span></em></p>
          </div>          
        </div>
        <br>
        <h3  style="text-align: center;"><em>NOTE: YOU CAN MINT FROM ANY WALLET AS LONG AS THE RECEIVING WALLET IS A GUARDIAN IN GOOD STANDING</em></h2>
      </hgroup>
      <br>
      <!-- <image src="./src/images/OSDETAIL.jpg"></image> -->
      <image src="./src/images/pledge_sigil_anima.svg" alt="Sigil of the $PLEDGE Contract"></image>
      <p style="text-align: center;"><em>Sigil of the $PLEDGE Contract</em></p>
      <br><br><br>
      <br><br>
      <div id="touch-rift-area" style="display:none">
        <h4 style="text-align: center;"><em>On your journey, you find yourself standing in front of a great rift.</em></h4>
        <h4 style="text-align: center;"><em>With caution, you extend your hand toward it...</em></h4>
        <br><br>
        <div class="grid" id="touch-or-run-buttons">
          <div>
            <button id="run-away-button" type="button" onclick="runAway()">Run Away!</button>
            <p id="no-thanks" style="text-align: center; display:none"><em>You run like a coward, and you live, but every morning you feel the rift calling and you are compelled to return...</em></p>
          </div>
          <div id="stats-update">
            <button type="button" id="touch-message" onclick="updateStats()">Touch the Rift</button>
          </div>
        </div>
      </div>
      <br>
      <div id="rift-status" style="text-align: center; display:none"></div>
      <div id="stats" style="text-align: center; display:none">
        <h4 style="text-align: center;"><em>You feel your mind being filled with the ancient knowledge and profound wisdom of Guardian Sigils - magical emblems granting their owners strength and resolve.</em></h4>
        <h4 style="text-align: center;"><em>You know that there are <span id="circulation"></span> Guardian Sigils that have been summoned to this realm, and you know that there is <span id="locked"></span> $PLEDGE locked within them.</em></h4>
        <h4 style="text-align: center;"><em>You feel compelled to summon one to your Guardian wallet, and you are ready to <a href="#contract-interaction-area">begin the Summoning Ritual!</a></em></h4>
      </div>
      <br>
      <hr>

    </header><!-- ./ Header -->

    <!-- Main -->
    
    <main class="container">
      <div id="wtf">
        <h1 style="text-align: center;">ABOUT</h1>
        <p>Guardian Sigils are a 100% onchain, dynamic, animated, and interactive generative art collection, with all traits and artwork code generated onchain by a single smart contract. The contract generates image assets and HTML that any modern browser can use to render the art - but the <strong>Guardian Sigil</strong> art only renders if the account holding the NFT is a $PLEDGE Guardian (has an active pledge of 1M tokens). Learn more at <a href="https://www.thepledge.meme/" target="_blank">https://www.thepledge.meme/</a></p>
        <p>If the token is held by an account that is not a $PLEDGE Guardian, then the background will render but not a sigil. Trading the token with a Guardian or becoming one will reveal the Guardian Sigil!</p>
        <p>Tokens can have different traits and rarities that never change, but every account's sigil pattern will be constant across all tokens it owns. Guardian Sigil tokens are dynamic, and they will always update themselves to draw their owner's sigil (if they're a Guardian).</p>
        <p>Each Guardian Sigil NFT is summoned at a cost of 5k $PLEDGE. 2.5k of this $PLEDGE go to the artist as a tribute, and the other 2.5k $PLEDGE are locked into the token, powering its magic. At any time, a token owner can use the <code>SACRIFICE</code> function on the contract (or on this site) to perform the ritual to destroy the token and reclaim its $PLEDGE to their account.</p>
        <hr>
      </div>

      <!-- basic -->
      <div id="basic-info">
        <br>
        <h3>Guardian Sigil Traits Info</h3>
        <p>Some popular generative art projects & platforms have traits calculated off-chain with the help of APIs, but Guardian Sigils are extra magical and all traits are calculated directly by the contract. There are 5 'Core' traits, 1 rarity score based on those traits, and a 'Viewing Distance' trait.</p>
        <h5>Core Traits:</h5>
        <ul>
          <li><strong>Mono</strong>: If true, a black and white image is generated</li>
          <li><strong>Invert</strong>: If true, the image brightness is inverted</li>
          <li><strong>Fundamental</strong>: If true, the Sigil pattern is drawn without node indicators and vector lines</li>
          <li><strong>Ghost</strong>: If true, the Sigil shapes are transparent</li>
          <li><strong>EtherStyle</strong>: If true, node indicators are rendered as 'Ethereum Diamonds'</li>
        </ul>
        <h5>Other Traits:</h5>
        <ul>
          <li><strong>Core Rarity</strong>: determined solely by the number of Core Traits present</li>
          <li><strong>Viewing Distance</strong>: essentially a zoom level. By default, these range from -9 to 4</li>
        </ul>
        <br>
        <p><em>Every token is HTML, and the code includes URL parameter interactivity to override or alter the default settings for temporary view...</em></p>
        <hr>
      </div>

      <!-- interactivity -->
      <div id="interactivity-info">
        <br>
        <h3>Interactivity</h3>
        <p>The HTML generated onchain has various interactive features. Marketplaces and DApps may disable this JavaScript interactivity, but by downloading the HTML from the contract on an explorer or by using a tool at the bottom of this page, you can interact directly with the generator's code that was created onchain.</p>
        <p>To use URL parameters, add <code>?</code> to the URL and then the parameters set to a value, eg. <code>?still=true</code>. You can string multiple parameters by using <code>&</code> between them, eg. <code>?still=true&ghost=true&distance=5</code></p>
        <h5>URL Parameters:</h5>
        <ul>
          <li><strong>address=<code>0x...</code></strong>: renders an address's Sigil</li>
          <li><strong>still=true</strong>: renders in still image mode</li>
          <li><strong>mono=true</strong>: engages mono mode</li>
          <li><strong>invert=true</strong>: engages inverted mode.</li>
          <li><strong>fundamental=true</strong>: engages fundamental mode..</li>
          <li><strong>ghost=true</strong>: engages ghost mode...</li>
          <li><strong>ether-style=true</strong>: engages Ethereum Diamond node indicators</li>
          <li><strong>distance=<code>integer</code></strong>: sets the viewing distance (max is 9, zoom with negative ints)</li>
          <li><strong>stroke-width=<code>integer</code></strong>: sets the line thickness</li>
        </ul>
        <h5>Keystroke Interaction:</h5>
        <ul>
          <li><strong>a</strong>: downloads the default, animated SVG</li>
          <li><strong>s</strong>: downloads a still version of the Sigil as a SVG with layers grouped for plotting or software customization</li>
          <li><strong>p</strong>: downloads a still version of the Sigil as a PNG image</li>
          <li><strong>h</strong>: reveals Matto signature</li>
        </ul>
        <br>
        <hr>
      </div>
    
      <!-- Mint Info -->
      <div id="mint-info">
        <br>
        <h3>Summoning Ritual (Mint)</h3>
        <p>This ain't your daddy's genart.</p>
        <ul>
          <li><strong>Cost: 5k $PLEDGE.</strong>: 2.5k $PLEDGE go to the artist as tribute, and 2.5k $PLEDGE are locked into the token, powering its magic. Sacrificing the token returns the $PLEDGE to the token-owner.</li>
          <li><strong>Token-Cap: 777</strong> the rift will allow only 777 tokens to be summoned. Once it's closed, it will stay closed for eternity! Also once closed, token sacrifice rituals may begin.</li>
          <li><strong>Pledge-Safeties: ENGAGED</strong>: the smart contract should forbid summoning if doing so would break the minter's pledge (1% $PLEDGE per month). Best practice is to verify this for yourself ahead of time!</li>
          <li><strong>Allow-List: YES, 2-PRONG ATTACK!</strong></li>
            <ul>
              <li>1. The intial token recipient address must be a guardian. It doesn't matter the status of the summoning (minting) account. Once summoned, tokens can transfer like any other ERC-721.</li>
              <li>2. For 7 days, addresses can only have 1 token summoned to them. Even if they transfer the token out, they won't be able to have a second token summoned to them. After 7 days, this limit is removed.</li>
            </ul>
        </ul>
        <p>Each token is given a magic number at summoning, and that number is used to calculate its traits. These traits, plus the owner's address and Guardian-ship status, are used to create the artwork.</p>
        <br>
        <hr>
      </div>

      <!-- Connect and Approve -->
      <div id="contract-interaction-area">
        <div id="contract-interaction-placeholder" style="display:block">
          <br>
          <h3 style="text-align: center;">Have you touched the rift?</h3>
          <p style="text-align: center;">You must connect a wallet and touch the rift!</p>
          <br>
          <button type="button" id="touch-message" onclick="updateStats()">TOUCH. THE. RIFT.</button>
        </div>

        <div id="contract-interactions" style="display:none">
          <div id="connect-approve">
            <br>
            <br>
            <h1 style="text-align: center;">PREPARE FOR THE SUMMONING RITUAL!</h1>
            <h3 style="text-align: center;">Please read through the steps so you fully understand them.</h3>
            <br>
            <h4>Step 1: Connect and Approve $PLEDGE from Paying Wallet</h4>
            <h4><em>Note: You have to be connected to this site with your paying wallet.</em></h4>
            <br>
            <form _lpchecked="1">
              <div class="grid">
                <div>
                  <p>Guardian Sigils are summoned at a cost of 5k $PLEDGE each. To allow the Guardian Sigils contract to transfer your $PLEDGE, you have to approve it on the $PLEDGE contract... Which you can do on <span id="pledge-contract-link"></span> or here on this page (if you connected).</p>
                  <p>To authorize, use the default value of 10k (enough for 2 Summonings) or edit it and click 'Set Allowance'. Then, check the allowance with 'Check Allowance'.</p>
                </div>
                <div>
                  <br>
                  <div class="grid">
                    <input type="number" id="approved-amount" value="10000" required>
                    <button type="submit" id="submit-button" class="btn btn-outline-dark btn-lg btn-round"
                      onclick="approve(); return false">Set Allowance</button>
                  </div>
                  <div class="grid">
                    <div>
                      <button type="submit" id="check-approval-button" class="btn btn-outline-dark btn-lg btn-round"
                      onclick="checkAllowance(); return false">Check Allowance</button>
                    </div>
                    <div id="allowance"></div>
                  </div>
                  <br>
                </div>
              </div>
            </form>
            <br>
            <hr>
          </div>

          <!-- MINT Functions  -->
          <div>
            <br>
            <h4>Step 2: SUMMON!</h4>
            <h4><em>Note: Safety controls are active - for 7 days, Guardian addresses can only be summoned to once.</em></h4>
            <div class="grid">
              <div>
                <p>Guardian Sigils can only be summoned (minted) to a provided account, and that account (the recipient) must be a Guardian with a pledge of at least 1M tokens.</p>
                <p>Additionally, if the summoning account (the paying account) is a pledger (note: it doesn't have to be), they must have enough $PLEDGE available in the current window to not break the pledge (<a href="https://www.thepledge.meme/" target="_blank">check here</a>). If the paying account is not a pledger, then there's no pledge to break, and summoning is allowed.</p>
              </div>
              <div>
                <form _lpchecked="1">
                  <input type="text" id="token-recipient" placeholder="Guardian Sigil Recipient 0x address" required>
                  <button type="submit" id="submit-button" class="btn btn-outline-dark btn-lg btn-round"
                  onclick="SUMMON(); return false">Summon for 5k $PLEDGE</button>
                  <p style="text-align: center;"><em>If your wallet shows the transaction will fail, cancel.</em></p>
                </form>
              </div>
            </div>
            <!-- <br>
            <br>
            <br> -->
            <!-- <p style="text-align: center;">Check your Guardian Sigil token in your wallet!</p> -->
            <br>
            <hr>
          </div>

          <!-- Liquidate Functions  -->
          <div>
            <br>
            <h4>Optional Step 3: SACRIFICE!</h4>
            <h4><em>Note: Sacrificial rites are only allowed once all 777 tokens have been summoned.</em></h4>
            <div class="grid">
              <p>To reclaim 2.5k $PLEDGE from a token, it must be destroyed by its owner through special sacrificial rites. Enter the tokenID of a Guardian Sigil in your wallet that you're willing to sacrifice, but be warned: there is no going back!</p>
              <form _lpchecked="1">
                  <input type="number" id="token-to-sacrifice" placeholder="TokenID to Sacrifice" required>
                  <button type="submit" id="submit-button" class="btn btn-outline-dark btn-lg btn-round"
                  onclick="SACRIFICE(); return false">Sacrifice and Reclaim 2.5k $PLEDGE</button>
              </form>
            </div>
            <!-- <br>
            <br>
            <br> -->
            <!-- <p style="text-align: center;">Check the $PLEDGE balance in your wallet!</p> -->
            <br>
            <hr>
          </div>

          <!-- View Sigil -->
          <div>
            <br>
            <br>
            <h1 style="text-align: center;">TOKEN INTERACTION TOOLS</h1>
            <h3 style="text-align: center;">The next sections will allow you to preview any existing token in a new tab, or download a token's HTML directly from the blockchain!</h3>
            <p style="text-align: center;">When running the live code through either of these options, all previously listed interactive features will be available.</p>
            <br>
            <h4>Preview a Guardian Sigil in a new tab.</h4>
            <h4><em>Note: For convenience, this runs live onchain data with a server-side copy of the art script.</em></h4>
            <!-- <p>By using the generator code, this tool will launch a viewer with the correct URL parameters to visualize any token.</p> -->
            <form _lpchecked="1">
              <div class="grid">
                <input type="number" id="token-to-preview" placeholder="TokenID to Preview" required>
                <button type="submit" id="submit-button" class="btn btn-outline-dark btn-lg btn-round"
                onclick="previewToken(); return false">Preview Token</button>
              </div>
            </form>
            <div id="message-center"></div>
            <br>
            <hr>
          </div>

          <!-- Download HTML -->
          <div>
            <br>
            <h4>Download Guardian Sigil HTML directly from the Ethereum Blockchain!</h4>
            <h4><em>Note: This will access, extract, and download a specified token's HTML from the blockchain.</em></h4>
            <div class="grid">
              <div>
                <p>The Guardian Sigils contract returns the HTML in a compressed format within a JSON object within a compressed format. There are other functions to retrieve the HTML from the contract, but this uses a single call to the tokenURI, which is standard to ERC721 DApps.</p>
              </div>
              <form _lpchecked="1">
                <input type="number" id="token-to-retrieve" placeholder="TokenID to Download HTML" required>
                <button type="submit" id="submit-button" class="btn btn-outline-dark btn-lg btn-round"
                onclick="downloadHTML(); return false">Download HTML</button>
              </form>
            </div>
            <div id="message-center"></div>
            <br>
            <hr>
          </div>

        </div>
      </div>
    </main><!-- ./ Main -->
    
    <!-- Footer -->
    <footer class="container">
      <details>
        <summary>
          <h3>Guardian Sigils FAQ (click to expand)</h3>
        </summary>
        <h5><em>What is $PLEDGE?</em></h5>
        <p>$PLEDGE is a unique ERC-20 token on Mainnet Ethereum incorporating a social experiment: holders are encouraged to pledge onchain to only sell/transfer a maximum of 1% of their holdings per month and to post once per month that they're upholding the pledge. Learn more at <a href="https://www.thepledge.meme/" target="_blank">https://www.thepledge.meme/</a></p>
        <br>
        <h5><em>Who can reclaim the $PLEDGE locked in tokens?</em></h5>
        <p>Only the token's owner can reclaim $PLEDGE by using a specific function on the contract - sending a token to the burn address will not reclaim $PLEDGE! This inherent value in every token may create secondary market arbitrage... We'll see what happens!</p>
        <br>
        <h5><em>Has this contract been audited?</em></h5>
        <p>No. While I believe I coded it well to protect from hacks, please consider it a risky experiment with no warranties.</p>
        <br>
        <h5><em>Cost? Fees? Royalties?</em></h5>
        <p>Minting a Guardian Sigil token costs 5k $PLEDGE as well as the gas required to process the transaction. 1/2 the $PLEDGE (2.5k) is locked to the token and can be reclaimed later. Secondary sales of the ERC-721 tokens have 5% royalties payable to <code>artist.MonkMatto.eth</code>.</p>        
        <br>
        <h5><em>Where's the art from?</em></h5>
        <p>Matto coded the art in vanilla JavaScript, which was entirely contained within the contract at deployment (as opposed to being stored in many chunks and later assembled). The contract is <em>also</em> an experiment in minimalism, and fits within the limitations imposed by 'Spurious Dragon'.</p>
        <br>
      </details>
      <small>Built by Matto / @MonkMatto: <a href="https://matto.xyz/" target="_blank">Website</a> | <a href="https://instagram.com/MonkMatto" target="_blank">Instagram</a> | <a href="https://warpcast.com/monkmatto" target="_blank">Warpcast</a> | <a href="https://bsky.app/profile/matto.bsky.social" target="_blank">Bluesky (@Matto)</a> | <a href="https://www.threads.net/@monkmatto" target="_blank">Threads</a> | <a href="https://twitter.com/MonkMatto" target="_blank">Twitter</a> | <a href="https://discord.com/invite/AQDwjAa3g2" target="_blank">Discord</a></small>
    </footer><!-- ./ Footer -->

</body>
<script src="src/js/interact.js"></script>
</html>